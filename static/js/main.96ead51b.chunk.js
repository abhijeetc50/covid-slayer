(this["webpackJsonpcovid-slayer"]=this["webpackJsonpcovid-slayer"]||[]).push([[0],{217:function(e,t,a){},313:function(e,t,a){},320:function(e,t,a){},321:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(0),c=a.n(n),r=a(28),o=a.n(r),l=a(82),i=a(33),j=(a(216),a(329)),d=a(92),b=a(112),O=a(63),u=a(332),m=a(337),p=a(49),h=a(328),x=a(341),f=a(342),g=(a(217),a(48)),S=a.n(g),v=a(67),_=a(7),T=a(182),y=function(){var e=Object(v.d)(),t=Object(i.f)(),a=Object({NODE_ENV:"production",PUBLIC_URL:"/covid-slayer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL;return Object(_.jsx)(b.a,{children:Object(_.jsxs)(O.a,{span:6,offset:9,children:[Object(_.jsxs)(u.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(s){var n=new FormData;n.append("username",s.username?s.username:""),n.append("password",s.password?T(s.password):""),S.a.post(a+"v1/login",n).then((function(a){200===a.status?"true"===a.data.status?(localStorage.setItem("name",a.data.name),localStorage.setItem("user_id",a.data.user_id),e.success("Welcome, "+a.data.name),t.push("dashboard/")):e.error("Sorry, the credentials dont match. Please try again."):e.error("Something went wrong! Please try again.")}),(function(e){console.log(e)}))},children:[Object(_.jsx)(u.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(_.jsx)(m.a,{prefix:Object(_.jsx)(x.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(_.jsx)(u.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(_.jsx)(m.a,{prefix:Object(_.jsx)(f.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(_.jsx)(u.a.Item,{children:Object(_.jsx)(p.a,{type:"primary",size:"large",htmlType:"submit",block:!0,className:"login-form-button",children:"Log in"})})]}),Object(_.jsx)(h.a,{children:"OR"}),Object(_.jsx)(p.a,{type:"primary",ghost:!0,block:!0,size:"large",onClick:function(){t.push("/register")},children:"Register"})]})})},E=a(38),C=a.n(E),P=a(54),I=a(5),A=a(333),D=a(331),R=a(338),w=(a(313),function(){var e=Object(i.f)();return Object(_.jsx)(b.a,{justify:"end",children:Object(_.jsx)(O.a,{span:2,offset:11,children:Object(_.jsx)(p.a,{type:"primary",danger:!0,onClick:function(){localStorage.removeItem("user_id"),localStorage.removeItem("name"),e.push("/login")},children:"Logout"})})})}),F=a(339),k=a(330),N=A.a.Title,L=function(){var e=Object(n.useState)([]),t=Object(I.a)(e,2),a=t[0],s=t[1],c=Object({NODE_ENV:"production",PUBLIC_URL:"/covid-slayer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,r=[{title:"Game ID",dataIndex:"GAME_ID",key:"GAME_ID"},{title:"STATUS",key:"STATUS",dataIndex:"STATUS",render:function(e){return Object(_.jsx)(_.Fragment,{children:"WON"===e?Object(_.jsx)(R.a,{color:"green",children:e},e):Object(_.jsx)(R.a,{color:"volcano",children:e},e)})}},{title:"Date",dataIndex:"DATE",key:"DATE"},{title:"Action",key:"action",render:function(e,t){return Object(_.jsx)(F.b,{size:"middle",children:Object(_.jsx)("div",{children:"Check Game Log"})})}}],o=Object(n.useCallback)(Object(P.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new FormData).append("id",localStorage.getItem("user_id")),S.a.post(c+"v1/getUserGameLog",t).then((function(e){200===e.status?s(e.data):console.log("failed")}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)}))),[c]);return Object(n.useEffect)((function(){o()}),[o]),Object(_.jsx)(b.a,{children:Object(_.jsxs)(O.a,{span:16,children:[Object(_.jsx)(N,{level:2,children:"Your Game History"}),Object(_.jsx)(k.a,{columns:r,dataSource:a,size:"small"})]})})},U=A.a.Title,W=function(){var e=Object(n.useState)([]),t=Object(I.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)([]),r=Object(I.a)(c,2),o=r[0],l=r[1],i=Object({NODE_ENV:"production",PUBLIC_URL:"/covid-slayer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,j=[{title:"NAME",dataIndex:"NAME",key:"NAME"},{title:"PLAYER ID",dataIndex:"USER_ID",key:"USER_ID"},{title:"COUNT",dataIndex:"COUNT",key:"COUNT"}],d=Object(n.useCallback)(Object(P.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new FormData).append("id",localStorage.getItem("user_id")),S.a.post(i+"v1/getTopGainerandLosers",t).then((function(e){200===e.status?(s(e.data.GAINERS),l(e.data.LOSERS)):console.log("failed")}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)}))),[i]);return Object(n.useEffect)((function(){d()}),[d]),Object(_.jsxs)(b.a,{children:[Object(_.jsxs)(O.a,{span:11,children:[Object(_.jsx)(U,{level:2,children:"Top Players"}),Object(_.jsx)(k.a,{columns:j,dataSource:a,size:"small"})]}),Object(_.jsxs)(O.a,{span:11,offset:1,children:[Object(_.jsx)(U,{level:2,children:"Top Losers"}),Object(_.jsx)(k.a,{columns:j,dataSource:o,size:"small"})]})]})},H=A.a.Title,G=function(){var e=Object(n.useState)(0),t=Object(I.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(0),r=Object(I.a)(c,2),o=r[0],l=r[1],j=Object(i.f)(),d=Object({NODE_ENV:"production",PUBLIC_URL:"/covid-slayer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,u=localStorage.getItem("name");null==localStorage.getItem("user_id")&&(j.push("/login"),console.log(localStorage.getItem("user_id")));var m=Object(n.useCallback)(Object(P.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new FormData).append("id",localStorage.getItem("user_id")),S.a.post(d+"v1/getUserGameCount",t).then((function(e){200===e.status?(s(e.data.WON[0].WON),l(e.data.LOST[0].LOST)):console.log("failed")}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)}))),[d]);Object(n.useEffect)((function(){m()}),[m]);var h=function(){return Math.random().toString(20).substr(2,6)};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(w,{}),Object(_.jsx)(b.a,{children:Object(_.jsxs)(O.a,{span:18,offset:3,children:[Object(_.jsx)(p.a,{type:"primary",onClick:function(){var e=h(),t=new FormData;t.append("game_id",e),t.append("user_id",localStorage.getItem("user_id")),S.a.post(d+"v1/registerGame",t).then((function(t){200===t.status?"true"===t.data.status&&j.push("../battlefield/"+e):console.log("failed")}),(function(e){console.log(e)}))},children:"New Game"}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsxs)(H,{level:1,children:["Welcome, ",u]}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsxs)(b.a,{className:"textCenter",children:[Object(_.jsx)(O.a,{span:11,children:Object(_.jsx)(D.a,{title:"Games Won",bordered:!1,children:Object(_.jsx)(R.a,{color:"green",children:Object(_.jsx)(H,{level:2,children:a})})})}),Object(_.jsx)(O.a,{span:11,offset:1,children:Object(_.jsx)(D.a,{title:"Games Lost",bordered:!1,children:Object(_.jsx)(R.a,{color:"volcano",children:Object(_.jsx)(H,{level:2,children:o})})})})]}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)(L,{}),Object(_.jsx)(W,{})]})})]})},K=(a(320),a(121)),M=a(334),B=K.a.Option,z={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},q={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},V=A.a.Title,Y=a(182),J=function(){var e=Object(v.d)(),t=Object(i.f)(),a=u.a.useForm(),n=Object(I.a)(a,1)[0],c=Object({NODE_ENV:"production",PUBLIC_URL:"/covid-slayer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL;return Object(_.jsx)(b.a,{children:Object(_.jsxs)(O.a,{span:8,offset:8,children:[Object(_.jsx)(V,{level:1,className:"textCenter",children:"Registration"}),Object(_.jsxs)(u.a,Object(s.a)(Object(s.a)({},z),{},{form:n,name:"register",onFinish:function(a){var s=new FormData;s.append("name",a.name?a.name:""),s.append("email",a.email?a.email:""),s.append("age",a.age?a.age:""),s.append("gender",a.gender?a.gender:""),s.append("password",a.password?Y(a.password):""),S.a.post(c+"v1/register",s).then((function(a){200===a.status?(t.push("/login"),e.success("Registration Done. Login to Continue!")):console.log("failed")}),(function(e){console.log(e)}))},scrollToFirstError:!0,children:[Object(_.jsx)(u.a.Item,{name:"name",label:"Full Name",rules:[{required:!0,message:"Please input your Name!"}],children:Object(_.jsx)(m.a,{})}),Object(_.jsx)(u.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(_.jsx)(m.a,{})}),Object(_.jsx)(u.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0,children:Object(_.jsx)(m.a.Password,{})}),Object(_.jsx)(u.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(_.jsx)(m.a.Password,{})}),Object(_.jsx)(u.a.Item,{name:"gender",label:"Gender",rules:[{required:!0,message:"Please select gender!"}],children:Object(_.jsxs)(K.a,{placeholder:"select your gender",children:[Object(_.jsx)(B,{value:"male",children:"Male"}),Object(_.jsx)(B,{value:"female",children:"Female"}),Object(_.jsx)(B,{value:"other",children:"Other"})]})}),Object(_.jsx)(u.a.Item,{name:"age",label:"Age",rules:[{required:!0,message:"Please input Age!"}],children:Object(_.jsx)(M.a,{style:{width:"100%"}})}),Object(_.jsx)(u.a.Item,Object(s.a)(Object(s.a)({},q),{},{children:Object(_.jsx)(p.a,{type:"primary",htmlType:"submit",children:"Register"})}))]}))]})})},Q=a(9),X=a(335),Z=(a(321),a(336)),$=function(e){var t=e.title,a=e.content,s=e.visible;return Object(_.jsx)(Z.a,{title:t,visible:s,closable:!1,footer:null,children:Object(_.jsx)("p",{children:a})})},ee=a(340),te=(a(322),A.a.Title),ae=function(e){var t=e.commentary;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(te,{level:2,children:"Commentary Box"}),Object(_.jsx)(ee.b,{className:"scrollableList",size:"small",bordered:!0,dataSource:t,renderItem:function(e){return Object(_.jsx)(ee.b.Item,{children:e})}})]})},se=A.a.Title,ne=function(e){var t=Object(v.d)(),a=Object(i.f)(),s=Object({NODE_ENV:"production",PUBLIC_URL:"/covid-slayer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,c=e.match.params.id,r=Object(n.useState)(100),o=Object(I.a)(r,2),l=o[0],j=o[1],d=Object(n.useState)(100),u=Object(I.a)(d,2),m=u[0],h=u[1],x=Object(n.useState)(""),f=Object(I.a)(x,2),g=f[0],T=f[1],y=Object(n.useState)([]),E=Object(I.a)(y,2),C=E[0],P=E[1],A=Object(n.useState)(!1),D=Object(I.a)(A,2),R=D[0],F=D[1],k=function(e){var t="",a="";"attack"===e?(t=N(1,10),a=N(1,10),W(-t,"player","attack"),W(-a,"monster","attack")):(t=N(10,20),a=N(10,20),W(-t,"player","blast"),W(-a,"monster","blast"));var s=[].concat(Object(Q.a)(C),["Monster "+e+" the player by "+a]);P(s),s=[].concat(Object(Q.a)(s),["Player "+e+" the monster by "+t]),P(s);var n=m,c=l;h(n-t),j(c-a),L(n-t,c-a)},N=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},L=function(e,s){e<=0?(T("Player"),F(!0),U("Player"),t.success("Player Won!"),a.push("../dashboard/")):s<=0&&(T("Monster"),F(!0),U("Monster"),t.error("Monster Won! You Lost"),a.push("../dashboard/"))},U=function(e){var t=new FormData;t.append("game_id",c),t.append("winner",e),S.a.post(s+"v1/logGameWinner",t).then((function(e){200===e.status?e.data.status:console.log("failed")}),(function(e){console.log(e)}))},W=function(e,t,a){var n=new FormData;n.append("game_id",c),n.append("point",e),n.append("playertype",t),n.append("type",a),S.a.post(s+"v1/logGame",n).then((function(e){200===e.status?e.data.status:console.log("failed")}),(function(e){console.log(e)}))};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)($,{title:"Winner Winner Chicken Dinner",content:g,visible:R}),Object(_.jsx)(w,{}),Object(_.jsxs)(b.a,{children:[Object(_.jsxs)(O.a,{span:12,offset:3,children:[Object(_.jsx)(b.a,{className:"battleField",children:Object(_.jsx)(O.a,{span:20,offset:2,children:Object(_.jsx)(se,{level:2,children:"I am a timer"})})}),Object(_.jsxs)(b.a,{className:"battleField",children:[Object(_.jsxs)(O.a,{span:12,children:[Object(_.jsx)(se,{level:2,children:"You"}),Object(_.jsx)(X.a,{type:"circle",strokeColor:{"0%":"#ED2938","20%":"#ED2938","40%":"#B25F4A","60%":"#77945C","80%":"#3BCA6D","100%":"#00FF7F"},percent:l})]}),Object(_.jsxs)(O.a,{span:12,children:[Object(_.jsx)(se,{level:2,children:"Covid Monster"}),Object(_.jsx)(X.a,{type:"circle",strokeColor:{"0%":"#ED2938","20%":"#ED2938","40%":"#B25F4A","60%":"#77945C","80%":"#3BCA6D","100%":"#00FF7F"},percent:m})]})]}),Object(_.jsxs)(b.a,{children:[Object(_.jsx)(O.a,{span:4,offset:2,children:Object(_.jsx)(p.a,{type:"danger",block:!0,size:"large",onClick:function(){return k("attack")},children:"Attack"})}),Object(_.jsx)(O.a,{span:4,offset:2,children:Object(_.jsx)(p.a,{type:"danger",block:!0,size:"large",onClick:function(){return k("blast")},children:"Blast"})}),Object(_.jsx)(O.a,{span:4,offset:2,children:Object(_.jsx)(p.a,{type:"success",style:{background:"#00cc00",borderColor:"#00cc00",color:"#fff"},block:!0,size:"large",onClick:function(){var e=N(1,10),t=N(10,20);W(t,"player","heal"),W(-e,"monster","attack");var a=[].concat(Object(Q.a)(C),["Monster attacks the player by "+e]);P(a),a=[].concat(Object(Q.a)(a),["Player heals by "+t]),P(a);var s=m,n=l;n+=t,j(n-=e),L(s,n)},children:"Heal"})}),Object(_.jsx)(O.a,{span:4,offset:2,children:Object(_.jsx)(p.a,{type:"primary",block:!0,size:"large",onClick:function(){U("Monster"),a.push("../dashboard/")},children:"Give Up!"})})]})]}),Object(_.jsx)(O.a,{span:6,offset:1,children:Object(_.jsx)(ae,{commentary:C})})]})]})},ce=function(){return Object(_.jsxs)("div",{id:"wrapper",children:[Object(_.jsx)("img",{src:"https://i.imgur.com/qIufhof.png"}),Object(_.jsx)("div",{id:"info",children:Object(_.jsx)("h3",{children:"This page could not be found"})})]})},re=j.a.Header,oe=j.a.Footer,le=j.a.Content;var ie=function(){return Object(_.jsxs)(j.a,{children:[Object(_.jsx)(re,{className:"mainHeader",children:Object(_.jsx)(d.a,{theme:"dark",mode:"horizontal",children:Object(_.jsx)(d.a.Item,{children:"Covid Slayer"})})}),Object(_.jsx)(le,{children:Object(_.jsx)(l.a,{children:Object(_.jsxs)(i.c,{children:[Object(_.jsx)(i.a,{exact:!0,path:"/",component:y}),Object(_.jsx)(i.a,{exact:!0,path:"/login",component:y}),Object(_.jsx)(i.a,{exact:!0,path:"/dashboard",component:G}),Object(_.jsx)(i.a,{exact:!0,path:"/register",component:J}),Object(_.jsx)(i.a,{exact:!0,path:"/battlefield/:id",component:ne}),Object(_.jsx)(i.a,{component:ce})]})})}),Object(_.jsx)(oe,{style:{textAlign:"center"},children:"Covid Slayer 2020."})]})},je=a(204),de={position:v.b.TOP_RIGHT,timeout:5e3,offset:"30px",transition:v.c.SCALE};o.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(v.a,Object(s.a)(Object(s.a)({template:je.a},de),{},{children:Object(_.jsx)(ie,{})}))}),document.getElementById("root"))}},[[323,1,2]]]);
//# sourceMappingURL=main.96ead51b.chunk.js.map